Admin:
email: admin@tinviet.com
password: Admin@123

Customer:
email: customer@tinviet.com
password: User@123

1) Tổng quan dự án

Tên dự án: TinVietVP – Website bán máy in / máy photocopy
Mục tiêu:

Clone giao diện & luồng cơ bản của tinvietvp.com

Nâng cấp thành hệ thống có đăng ký/đăng nhập + theo dõi đơn hàng

Tách backend REST API phục vụ frontend React 

TomTatDuAn

Công nghệ:

Backend: Node.js + Express, REST API, mô hình MVC 

TomTatDuAn

Database: MySQL 8 (XAMPP) 

TomTatDuAn

Auth: JWT (Access Token + Refresh Token) 

TomTatDuAn

Frontend: React (Vite) + TailwindCSS (tách Customer/Admin)

2) Chức năng hệ thống
2.1 Backend – đã triển khai (trọng tâm)

Authentication

Đăng ký (email + phone), đăng nhập

Refresh token, logout/revoke token

Lấy user hiện tại /me

Phân quyền role (user/admin) 

TomTatDuAn

Catalog & CMS

Category đa cấp (tree)

Brand

Product: list, filter theo category/brand, search, sort, pagination, detail (images/attributes/related), suggest/autocomplete 

TomTatDuAn

Cart & Order

Giỏ hàng guest + giỏ hàng theo user (1 user – 1 cart active)

Add/view cart items

Checkout tạo order

Lịch sử đơn hàng, chi tiết đơn hàng 

TomTatDuAn

Home page support

Slider banner

Settings (hotline, address, email,…) 

TomTatDuAn

Admin nền tảng

Middleware phân quyền admin

Chuẩn bị CRUD cho product/category/slider/settings 

TomTatDuAn

2.2 Các hạng mục dự kiến/mở rộng

Upload ảnh (product/slider), Admin UI, thanh toán online (optional), SEO metadata 

TomTatDuAn

3) Database MySQL – nhóm bảng và ý nghĩa

Các nhóm bảng chính đang được định hướng như sau (danh sách bảng theo tài liệu hiện tại): 

TomTatDuAn

3.1 Core (người dùng & xác thực)

users: thông tin tài khoản, role

user_addresses: địa chỉ giao hàng

user_tokens: quản lý refresh token / revoke

3.2 Catalog (danh mục – sản phẩm)

categories: danh mục nhiều cấp

brands: thương hiệu

products: sản phẩm (slug, giá, mô tả, trạng thái)

product_images: ảnh sản phẩm

attributes, product_attribute_values: thuộc tính – giá trị (phục vụ mô tả kỹ thuật)

inventories: tồn kho

3.3 CMS (nội dung & điều hướng)

posts: bài viết (giới thiệu/chính sách…)

sliders: banner/slider trang chủ

menus, menu_items: menu động

settings: cấu hình hotline/địa chỉ/email…

3.4 Commerce (mua hàng)

carts, cart_items: giỏ hàng

orders, order_items: đơn hàng

payments: thanh toán (dự phòng)

shipments: vận chuyển (dự phòng)

3.5 Other

product_reviews: đánh giá

contact_messages: liên hệ

4) Backend – cấu trúc code & cách vận hành (MVC)
4.1 Cấu trúc thư mục backend hiện tại

(Theo bản tóm tắt backend bạn cung cấp) 

TomTatDuAn

src/
 ├─ app.js
 ├─ server.js
 ├─ config/
 │   ├─ db.js
 │   └─ env.js
 ├─ middlewares/
 │   ├─ auth.middleware.js
 │   └─ error.middleware.js
 ├─ routes/
 │   └─ index.js
 └─ modules/
     ├─ auth/
     │   ├─ auth.router.js
     │   ├─ auth.controller.js
     │   ├─ auth.service.js
     │   ├─ auth.model.js
     │   └─ token.model.js
     ├─ product/
     ├─ category/
     ├─ brand/
     ├─ cart/
     ├─ order/
     ├─ slider/
     └─ settings/

4.2 Giải thích mô hình MVC đang dùng

router: khai báo endpoint + gắn middleware (auth/admin) + trỏ sang controller

controller: nhận request/validate cơ bản → gọi service → trả response chuẩn JSON

service: xử lý nghiệp vụ (cart logic, checkout, auth flow…)

model: thao tác DB (query MySQL), tách khỏi service để dễ thay đổi DB layer

middlewares:

auth.middleware.js: verify access token, gắn req.user

error.middleware.js: chuẩn hoá lỗi trả về frontend

5) Backend – các API chính (để Frontend gọi)

Danh sách endpoint cốt lõi theo tài liệu dự án: 

TomTatDuAn

5.1 Auth

POST /api/auth/register

POST /api/auth/login

POST /api/auth/refresh

POST /api/auth/logout

GET /api/auth/me

5.2 Catalog

GET /api/categories/tree

GET /api/brands

GET /api/products

GET /api/products/:slug

GET /api/products/suggest

5.3 Cart

GET /api/cart/me/cart

POST /api/cart/me/cart/items

5.4 Order

POST /api/orders/checkout

GET /api/orders/me

GET /api/orders/me/:orderId

5.5 Home

GET /api/sliders

GET /api/settings

6) Frontend – cấu trúc FE (Customer/Admin) & cách “ăn” API

Phần này là mô tả theo hướng bạn đang triển khai: React Vite + Tailwind, tách 2 phân hệ Customer và Admin, dùng chung core (api client, auth store, utils).

6.1) Cấu trúc Frontend hiện tại (đúng theo repo của bạn)
frontend/
├─ public/
│  ├─ images/
│  │  ├─ brands/
│  │  └─ sliders/
│  │  ├─ footer-banner.png
│  │  ├─ header-left.png
│  │  ├─ header-right.png
│  │  └─ promo-home.png
│  └─ vite.svg
│
├─ src/
│  ├─ assets/                       # (đang để trống/ít dùng) assets import theo module
│  │
│  ├─ layouts/                      # layout dùng chung (hiện tại bạn đã tạo thư mục này)
│  │   # Lưu ý: hiện tại cấu trúc đang có layouts nhưng chưa thấy file trong ảnh
│  │
│  ├─ pages/
│  │  └─ client/
│  │     └─ Home/
│  │        ├─ HomePage.jsx         # Trang chủ: ghép các section & gọi API
│  │        └─ components/          # component con riêng cho Home
│  │           ├─ CategorySidebar.jsx        # Sidebar danh mục (trái)
│  │           ├─ FeaturedCategoryBlock.jsx  # Block danh mục + 10 sản phẩm
│  │           ├─ HeroSlider.jsx             # Slider banner (phải)
│  │           └─ PromoBanner.jsx            # Banner quảng cáo lớn
│  │
│  ├─ routes/
│  │  ├─ index.jsx                  # Router root: gắn ClientRoutes
│  │  └─ ClientRoutes.jsx           # Router phân hệ client (Home, ...)
│  │
│  ├─ services/
│  │  ├─ api.js                     # axios instance + interceptor token/baseURL
│  │  ├─ category.service.js        # gọi API category (tree/list)
│  │  ├─ product.service.js         # gọi API product (list/detail/filter)
│  │  ├─ settings.service.js        # gọi API settings (hotline/address/email…)
│  │  └─ slider.service.js          # gọi API sliders (banner)
│  │
│  ├─ stores/
│  │  ├─ auth.store.js              # lưu user/token trạng thái đăng nhập
│  │  └─ cart.store.js              # trạng thái giỏ hàng (count/items)
│  │
│  ├─ utils/
│  │  └─ format.js                  # format tiền VND, helper hiển thị
│  │
│  ├─ App.jsx                       # App wrapper, render routes
│  ├─ App.css                       # CSS bổ trợ (nếu có)
│  ├─ index.css                     # Tailwind entry + style base
│  └─ main.jsx                      # Entry: mount React + Router + QueryProvider
│
├─ .env                             # VITE_API_URL (hoặc config api)
├─ index.html
├─ package.json / lock
├─ eslint.config.js
└─ README.md

2) Dòng chảy hoạt động (đọc là hiểu hệ thống FE)
2.1 Boot app

main.jsx khởi tạo React, bọc Router/React Query (nếu bạn dùng).

App.jsx render routing từ src/routes/index.jsx.

2.2 Routing

routes/index.jsx là router cấp cao → điều hướng vào ClientRoutes.jsx.

routes/ClientRoutes.jsx map các trang client (hiện bạn có Home trước).

2.3 Trang chủ (Home)

pages/client/Home/HomePage.jsx là trang chính:

Fetch:

category.service.getTree() → sidebar danh mục

slider.service.getAll() → slider

product.service.list({ category, limit: 10 }) → từng block danh mục

settings.service.getAll() (nếu header/footer dùng settings)

Render:

CategorySidebar + HeroSlider

PromoBanner

3 block danh mục (FeaturedCategoryBlock) × 10 sản phẩm

2.4 Gọi API (services)

services/api.js là axios instance chung

đọc VITE_API_URL

gắn Authorization header nếu có token (auth.store)

Mỗi *.service.js chỉ làm 1 nhiệm vụ:

category: cây danh mục

product: list/detail/filter

slider: banner

settings: hotline/address/email

2.5 State global

stores/auth.store.js

giữ trạng thái đăng nhập (user, accessToken, refreshToken tùy bạn)

stores/cart.store.js

giữ count/items giỏ hàng để header hiển thị nhanh

sau này đồng bộ với backend cart API

2.6 Asset & hình ảnh

public/images/* chứa ảnh tĩnh dùng trực tiếp bằng URL /images/...

slider: /images/sliders/*

partner brand: /images/brands/*

header/footer/promo: header-left.png, promo-home.png, footer-banner.png...

6.2 Luồng FE gọi API (mapping nhanh)

Header/Topbar

GET /api/settings → hotline, address, email

Auth state → show “Đăng nhập/Đăng ký” hoặc “Tài khoản/Đơn hàng”

Sidebar danh mục

GET /api/categories/tree → render danh mục đa cấp

Banner slider

GET /api/sliders → render slider 4 ảnh

Sản phẩm nổi bật theo danh mục (Home)

GET /api/products?categorySlug=...&limit=10 cho từng block danh mục

hoặc gọi 3 lần theo 3 slug danh mục bạn chọn

Giỏ hàng

guest: lưu local (tuỳ bạn), hoặc vẫn dùng server với session key

user: GET /api/cart/me/cart + POST /api/cart/me/cart/items

Checkout / Theo dõi đơn

POST /api/orders/checkout

GET /api/orders/me + GET /api/orders/me/:orderId

7) Trạng thái dự án hiện tại & định hướng tiếp theo

Theo tài liệu hiện có:

Backend đã ổn định và sẵn sàng cho frontend 

TomTatDuAn

Các bước triển khai tiếp theo được đề xuất:

Dựng FE React (Vite + Tailwind)

Clone layout trang chủ

Gọi API thật & render dữ liệu

Hoàn thiện UX (search, cart, checkout) 

TomTatDuAn
